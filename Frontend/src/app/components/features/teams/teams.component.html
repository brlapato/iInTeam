<div class="container-fluid px-0 px-md-3 py-2 py-md-3">
    <div class="row">
        <div class="col-lg-3 pb-5">
            <div class="container rounded-2 shadow bg-light pb-5">
                <h3>
                    <div class="d-flex justify-content-between pt-3 mb-2">
                        <div class="">Teams</div>
                        <div class="me-3">
                            <app-tool-button data-bs-target="#addTeamModal" data-bs-toggle="modal" (click)="onAddTeamOpened()"
                                iconHref="assets/icons/bootstrap-icons.svg#plus-lg" labelText="Add Team"></app-tool-button>
                        </div>
                    </div>
                </h3>
                <div class="container p-1">
                    <div *ngFor="let team of teamList" 
                            class="container border-bottom p-2" 
                            [class.bg-secondary]="team === selectedTeam"  
                            [class.text-white]="team === selectedTeam"
                            (click)="onSelectTeam(team)"
                            style="cursor: pointer; color: var(--primaryColor)">
                        {{team.season}} {{ team.name }} 
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <app-team-detail [team]="this.selectedTeam"></app-team-detail>
        </div>
    </div>
</div>

<div class="modal fade" #editTeamModal id="addTeamModal" tabindex="-1" data-bs-backdrop="static" aria-labelledby="addTeamModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="addTeamModalLabel">Add a new Team</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="container bg-white rounded-3 pb-5">
                    <form #newTeamForm="ngForm" id="newTeamForm" (ngSubmit)="!newTeamForm.invalid && createTeam()">
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text" style="width:100px">Sport</span>
                            <select class="form-select" name="gameType" id="gameType" [(ngModel)]="newTeam.sport">
                                <option value="Hockey">Hockey</option>
                                <option value="Swim">Swim</option>
                                <option value="Baseball">Baseball</option>
                            </select>
                        </div>
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text" style="width:100px">Team Name</span>
                            <input type="text" class="form-control" name="teamName" required="required" [(ngModel)]="newTeam.name" >
                        </div>
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text" style="width:100px">Org Location</span>
                            <input type="text" class="form-control" name="orgCity" [(ngModel)]="newTeam.org.city" >
                        </div>
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text" style="width:100px">Org Nickname</span>
                            <input type="text" class="form-control" name="orgName" required="true" [(ngModel)]="newTeam.org.name" >
                        </div>
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text" style="width:100px">Season</span>
                            <input type="text" class="form-control" name="season" [(ngModel)]="newTeam.season" >
                        </div>
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text" style="width:100px">Start Date</span>
                            <input type="date" class="form-control"  name="startDate" required="required" [ngModel]="newTeam.startDate | date:'yyyy-MM-dd'" (ngModelChange)="newStartDateStr = $event">
                        </div>
                    </form>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" form="newTeamForm" class="btn btn-primary" data-bs-dismiss="modal">Create</button>
              </div>
        </div>
    </div>
</div>

