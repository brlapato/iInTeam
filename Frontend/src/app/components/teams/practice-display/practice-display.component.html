<h3>
    <div class="d-flex justify-content-between pt-3">
        <div class="mb-2">Practices</div>
            
        <div class="me-3">
            <app-tool-button data-bs-target="#editPracticeModal" data-bs-toggle="modal" 
                                iconHref="assets/icons/bootstrap-icons.svg#plus-square" labelText="Add Practice"></app-tool-button>
        </div>
    </div>
</h3>
<div class="container p-0 p-md-1">
    <div class="d-flex justify-content-center">
        <app-pager [sourceData]="practices" [startingItemIndex]="startingDisplayIndex" (pagedItemsChanged)="onPagedItemsChanged($event)"></app-pager>
    </div>
    <div *ngFor="let practice of displayItems">
        <div class="row pb-0">
            <div class="col">
                <div class="row">
                    <div class="col">
                        <span style="font-weight: 700;">{{getPracticeDisplayDate(practice)}}</span><span style="margin-left: 10px;">{{practice.eventName}}</span>
                    </div>
                </div>
                <div class="row pb-1 smallFont">
                    <div class="col-1"></div>
                    <div class="col">
                        <em>{{practice.eventLocation}} <span *ngIf="practice.eventLocationDetail">({{practice.eventLocationDetail}})</span></em>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <button id=buttonEdit  class="border-0" style="background-color: transparent;" (click)="onEditPractice(practice)" data-bs-toggle="modal" data-bs-target="#editPracticeModal">
                    <svg class="bi" width="14" height="14" fill="none">
                        <use xlink:href="assets/icons/bootstrap-icons.svg#pencil"/>
                    </svg>
                </button>
                <button id=buttonDelete  class="border-0" style="background-color: transparent;" (click)="onDeletePractice(practice)">
                    <svg class="bi" width="15" height="15" fill="currentColor">
                        <use xlink:href="assets/icons/bootstrap-icons.svg#trash"/>
                    </svg>
                </button>
            </div>
        </div>
        <hr>
    </div>
    
</div>

<div class="modal fade" #editPracticeModal id="editPracticeModal" data-bs-keyboard="false" data-bs-backdrop="static" tabindex="-1" aria-labelledby="editPracticeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="editPracticeModalLabel">Practice Info</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <div class="container bg-white p-1">
                    <form #editPracticeForm="ngForm" id="editPracticeForm" (ngSubmit)="!editPracticeForm.invalid && savePractice()">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text" style="font-size: 0.9em;width:110px">Description</span>
                            <input type="text" class="form-control" name="eventName" [(ngModel)]="editPractice.eventName" >
                        </div>
                        <div class="input-group input-group-sm">
                            <span class="input-group-text" style="font-size: 0.9em;width:110px">Date</span>
                            <input type="date" class="form-control"  name="startDate" required="required" [ngModel]="startDate | date:'yyyy-MM-dd'" (ngModelChange)="newStartDate = $event">
                        </div>
                        <div class="input-group input-group-sm">
                            <span class="input-group-text" style="font-size: 0.9em;">Start</span>
                            <input type="time" class="form-control"  name="startTime" id="startTime" required="required" [ngModel]="startTime" (ngModelChange)="startTime = $event">
                            <span class="input-group-text" style="font-size: 0.9em;">End</span>
                            <input type="time" class="form-control"  name="endTime" id="endTime" required="required" [ngModel]="endTime" (ngModelChange)="endTime = $event">
                        </div>
                        <div class="input-group input-group-sm">
                            <span class="input-group-text" style="font-size: 0.9em;width:110px">Location</span>
                            <input type="text" class="form-control" name="location" [(ngModel)]="editPractice.eventLocation" >
                        </div>
                        <div class="input-group input-group-sm">
                            <span class="input-group-text" style="font-size: 0.9em;width:110px" >Location Detail</span>
                            <input type="text" class="form-control" name="locationDetail" [(ngModel)]="editPractice.eventLocationDetail" >
                        </div>
                        <div>
                            <span class="input-group-text" style="font-size: 0.9em;">Practice Notes</span>
                            <textarea class="form-control" id="postClinicNotes" rows="5" name="postClinicNotes" aria-label="postClinicNotes" [(ngModel)]="editPractice.notes"></textarea>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" form="editPracticeForm" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
            </div>
        </div>
    </div>
</div>
